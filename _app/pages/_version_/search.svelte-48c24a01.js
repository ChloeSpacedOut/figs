import{S as B,i as C,s as W,t as j,h as x,g as m,d as g,w as b,l as p,x as z,y as q,z as A,A as F,o as d,p as S,q as h,B as y,k as J,m as M,J as P,N as T,v as E,a5 as G,C as H,n as v}from"../../chunks/index-06c54a84.js";import{D as K}from"../../chunks/statistics-58df4639.js";import{w as L,p as O}from"../../chunks/translator-173f9b36.js";import"../../chunks/preload-helper-657f1be1.js";import"../../chunks/TranslatableKey-18bcd688.js";function k(i,t,n){const c=i.slice();return c[11]=t[n],c}function I(i){let t;return{c(){t=j("Waiting for the pool to finish fetching languages")},l(n){t=x(n,"Waiting for the pool to finish fetching languages")},m(n,c){m(n,t,c)},d(n){n&&g(t)}}}function N(i){let t,n,c;const o=[i[11],{classi:i[3]},{setId:!1},{path:i[0]}];var f=i[11].this;function s(r){let e={};for(let l=0;l<o.length;l+=1)e=H(e,o[l]);return{props:e}}return f&&(t=new f(s())),{c(){t&&b(t.$$.fragment),n=p()},l(r){t&&z(t.$$.fragment,r),n=p()},m(r,e){t&&q(t,r,e),m(r,n,e),c=!0},p(r,e){const l=e&11?A(o,[e&2&&F(r[11]),e&8&&{classi:r[3]},o[2],e&1&&{path:r[0]}]):{};if(f!==(f=r[11].this)){if(t){v();const a=t;d(a.$$.fragment,1,0,()=>{y(a,1)}),S()}f?(t=new f(s()),b(t.$$.fragment),h(t.$$.fragment,1),q(t,n.parentNode,n)):t=null}else f&&t.$set(l)},i(r){c||(t&&h(t.$$.fragment,r),c=!0)},o(r){t&&d(t.$$.fragment,r),c=!1},d(r){r&&g(n),t&&y(t,r)}}}function Q(i){let t,n,c,o=i[2]&&I(),f=i[1],s=[];for(let e=0;e<f.length;e+=1)s[e]=N(k(i,f,e));const r=e=>d(s[e],1,1,()=>{s[e]=null});return{c(){o&&o.c(),t=J();for(let e=0;e<s.length;e+=1)s[e].c();n=p()},l(e){o&&o.l(e),t=M(e);for(let l=0;l<s.length;l+=1)s[l].l(e);n=p()},m(e,l){o&&o.m(e,l),m(e,t,l);for(let a=0;a<s.length;a+=1)s[a].m(e,l);m(e,n,l),c=!0},p(e,[l]){if(e[2]?o||(o=I(),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),l&11){f=e[1];let a;for(a=0;a<f.length;a+=1){const _=k(e,f,a);s[a]?(s[a].p(_,l),h(s[a],1)):(s[a]=N(_),s[a].c(),h(s[a],1),s[a].m(n.parentNode,n))}for(v(),a=f.length;a<s.length;a+=1)r(a);S()}},i(e){if(!c){for(let l=0;l<f.length;l+=1)h(s[l]);c=!0}},o(e){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)d(s[l]);c=!1},d(e){o&&o.d(e),e&&g(t),P(s,e),e&&g(n)}}}let $=function({stuff:i,url:t}){let n=i.docs;return{props:{query:t.searchParams.get("q"),docs:n,base:i.base}}};function R(i,t,n){let c;T(i,L,u=>n(7,c=u));let{query:o}=t,{docs:f}=t,{base:s}=t,r=new K(f),e=null,l=null,a=[],_=!1,w="";function D(){if(e!==null){if(O.activeTransfers.length>0){n(2,_=!0);return}n(2,_=!1);let u=e.next();u.done?e=null:n(1,a=[...a,u.value])}}return E(()=>{l=setInterval(D,1)}),G(()=>{l!==null&&clearInterval(l)}),i.$$set=u=>{"query"in u&&n(4,o=u.query),"docs"in u&&n(5,f=u.docs),"base"in u&&n(0,s=u.base)},i.$$.update=()=>{i.$$.dirty&208&&w!==c.language&&(e=null,n(1,a=[]),n(6,w=c.language),o!==null&&(e=r.search(o)))},[s,a,_,r,o,f,w,c]}class ee extends B{constructor(t){super(),C(this,t,R,Q,W,{query:4,docs:5,base:0})}}export{ee as default,$ as load};
